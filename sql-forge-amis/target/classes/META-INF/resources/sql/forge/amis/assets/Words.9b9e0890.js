import{a as y,y as E,R as c,ck as b,dT as N,d as u,r as _,e as m,m as f,n as h,f as x,bS as F,k as B}from"./index.624f938b.js";function P(l,t,e){var r=e.type,a=e.labelField,i=a===void 0?"label":a,n=e.options,o=n===void 0?[]:n,s=e.enableNodePath,p=e.hideNodePathLabel,d=e.pathSeparator,T=d===void 0?"/":d,g=e.labelTpl;if(s||r==="nested-select"&&!p){var v=F(o,l,!0);return"".concat(v?v.map(function(C){return"".concat(C[i||"label"])}).join(" ".concat(T," ")):l[i||"label"])}var k=g?B(g,l):b(l[i])||"\u9009\u9879".concat(t);return k}var A=function(l){y(t,l);function t(){var e=l!==null&&l.apply(this,arguments)||this;return e.state={isExpend:!1},e}return t.prototype.toggleExpend=function(){this.setState({isExpend:!this.state.isExpend})},t.prototype.getLimit=function(e){var r=this.props.limit;return r!=null?r:Array.isArray(e)?10:200},t.prototype.handleItemClick=function(e){var r=parseInt(e.currentTarget.dataset.index||""),a=this.props.selectedOptions;if(Array.isArray(a)){var i=a[r];i&&this.props.dispatchEvent("staticItemClick",E(this.props.data,{item:i,index:r}))}},t.prototype.renderContent=function(e){var r=this,a=this.props,i=a.delimiter,n=a.inTag,o=a.classnames;if(!Array.isArray(e))return e;if(!n){var s=e.length-1;return e.map(function(p,d){return c.createElement("span",{"data-index":d,key:d,onClick:r.handleItemClick},b(p),d===s?"":i||"\uFF0C ")})}return e.map(function(p,d){return c.createElement(N,u({onClick:r.handleItemClick,key:d,label:p,className:"mb-1"},typeof n=="object"?u(u({},n),{className:o(n.className)}):void 0,{dataIndex:d}))})},t.prototype.renderAll=function(e,r){r===void 0&&(r=!1);var a=this.props,i=a.collapseButtonText,n=i===void 0?"\u6536\u8D77":i,o=a.collapseButton,s=a.render;return c.createElement(c.Fragment,null,this.renderContent(e),r?s("collapseBtn",{type:"button",level:"link",className:"ml-1 v-baseline"},u(u({onClick:this.toggleExpend},o),{label:n})):null)},t.prototype.renderPart=function(e){var r=this.props,a=r.expendButtonText,i=a===void 0?"\u5C55\u5F00":a,n=r.expendButton,o=r.render,s=this.getLimit(e),p=Array.isArray(e)?e.slice(0,s):e.toString().slice(0,s);return c.createElement(c.Fragment,null,this.renderContent(p),"\xA0...",o("collapseBtn",{type:"button",level:"link",className:"ml-1 v-baseline"},u(u({onClick:this.toggleExpend},n),{label:i})))},t.prototype.getWords=function(){var e=this,r=this.props,a=r.selectedOptions,i=a===void 0?[]:a,n=r.words,o=r.data,s;return typeof n=="string"&&(s=_(n,o,"| raw")),s||((i==null?void 0:i.length)>0?i.map(function(p,d){return P(p,d,e.props)}):null)},t.prototype.render=function(){var e=this.props,r=e.classnames,a=e.className,i=e.style,n=this.getWords();if(!n)return null;var o=this.getLimit(n),s;return!o||Array.isArray(n)&&n.length<=o||!Array.isArray(n)&&n.toString().length<=o?s=this.renderAll(n):s=this.state.isExpend?this.renderAll(n,!0):this.renderPart(n),c.createElement("div",{className:r("Words-field",a),style:i},s)},t.defaultProps={inTag:!1},m([f,h("design:type",Function),h("design:paramtypes",[]),h("design:returntype",void 0)],t.prototype,"toggleExpend",null),m([f,h("design:type",Function),h("design:paramtypes",[Object]),h("design:returntype",void 0)],t.prototype,"handleItemClick",null),t}(c.Component),I=function(l){y(t,l);function t(){return l!==null&&l.apply(this,arguments)||this}return t=m([x({type:"words"})],t),t}(A),R=function(l){y(t,l);function t(){return l!==null&&l.apply(this,arguments)||this}return t.defaultProps={inTag:!0},t=m([x({type:"tags"})],t),t}(A);export{R as TagsRenderer,A as WordsField,I as WordsRenderer};
